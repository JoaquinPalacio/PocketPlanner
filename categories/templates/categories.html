{% extends 'base.html' %} {% block content %}

<h1 class="text-center">Categories</h1>

<div class="container mt-3 mb-3">

    {% if not categories %}
    <p>Create your first category</p>

    <form method="POST">
        {% csrf_token %}
        <div class="form-group row">
            <label for="name" class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
            <input type="name" class="form-control" id="name" name="name" placeholder="Name of the category">
            </div>
        </div>
        <button type="submit" class="btn btn-primary mt-3 mb-3">Create</button>
    </form>

    {% else %}
    {% for category in categories %}
    <div class="card">
        <div class="card-body">
            <h3 class="card-title">
                {{ category.name }}
            </h3>
            <a href="{% url 'detail_category' category.id %}" class="btn btn-outline-primary">Detail</a>
            <a href="{% url 'edit_category' category.id %}" class="btn btn-outline-secondary">Edit</a>
            <a type="button" href="{% url 'delete_category' category.id %}" class="btn btn-outline-danger" onclick="return confirm('Are you sure you want to delete this category?');">Delete</a>
        </div>
    </div>
    {% endfor %}
    <div class="card mt-3 mb-3">
        <form method="POST" class="card-body">
            {% csrf_token %}
            <div class="form-group row">
                <label for="name" class="col-sm-2 col-form-label">Name</label>
                <div class="col-sm-10">
                <input type="name" class="form-control" id="name" name="name" placeholder="Name of the category">
                </div>
            </div>
            <button type="submit" class="btn btn-primary mt-3 mb-3">Create</button>
        </form>
    </div>

    {% endif %}
</div>
{% endblock %}
